<md-card>
  <md-card-title>
    <md-card-title-text>
      <span class="md-headline" translate>
        Password Settings
      </span>
    </md-card-title-text>
  </md-card-title>

  <md-card-content>

    <div layout="row">

      <div flex flex-gt-sm="45">

        <!-- <splash-generate-passy show-pass="show" attribute="splash.password"></splash-generate-passy> -->

        <input style="display:none" type="password" name="password"/>
        <md-input-container class="md-block">
          <label translate>Splash Password</label>
          <input ng-model="splash.password" placeholder="{{'Splash Password' | translate}}" type="{{ show || showPass ? 'text' : 'password' }}" ng-focus="showPass = !showPass" ng-blur="showPass = !showPass" name="password" md-maxlength='25' ng-minlength="4" ng-pattern="/^[a-zA-Z0-9_-]+$/" required>
          <div ng-messages="myForm.password.$error">
            <div ng-message="md-maxlength" translate>Must be less than 25 characters</div>
            <div ng-message="minlength" translate>Must be more than 4 characters</div>
            <div ng-message="required" translate>A valid password is required</div>
          </div>
        </md-input-container>

        <md-switch class="md-accent" ng-model="splash.passwd_auto_gen" aria-label="{{ 'Password Auto Gen' | translate }}" style="margin: 0 0 30px 0;">
        <span ng-if="splash.passwd_auto_gen == true" translate>Auto Password Change Enabled</span>
        <span ng-if="splash.passwd_auto_gen == false" translate>Auto Password Change Off</span>
        </md-switch>

        <md-input-container class="md-block">
          <label translate>Password Changed Email Recipient</label>
          <input ng-disabled="!splash.passwd_auto_gen" ng-model="splash.passwd_change_email" placeholder="{{ 'Send password to this email' | translate }}" type="email" name="email" ng-required="splash.passwd_auto_gen == true">
          <div ng-messages="myForm.email.$error" md-auto-hide="false">
            <div ng-message="required" translate>Recipient email required when using auto change.</div>
            <div ng-message="email" translate>Must be a valid email address</div>
          </div>
        </md-input-container>

      </div>

    </div>

    <div flex>
      <day-selector active="splash.passwd_auto_gen" days="splash.passwd_change_day" array="splash.userdays"></day-selector>
    </div>

  </md-card-content>
</md-card>

