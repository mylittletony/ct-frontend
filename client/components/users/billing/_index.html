<user-nav user="user"></user-nav>

<md-content layout-padding layout="row" layout-wrap class="page-meta">
</md-content>


<md-content class="md-padding" layout="column" layout-gt-sm='column'>

  <div layout="row" layout-align="center center">
    <div flex-gt-sm="100">
      <md-card>
        <md-card-title>
          <md-card-title-text>
            <span class="md-headline" translate>
              Overview
            </span>
          </md-card-title-text>
        </md-card-title>
        <md-card-content>
          <div layout="row" layout-wrap>
            <md-list-item class="md-3-line" flex="100" flex-gt-sm="50">
              <div class="md-list-item-text">
                <h3 translate>Card Details</h3>
                <p>
                  <span ng-if="!user.credit_card_last4" translate>
                    No card available
                  </span>
                  <span ng-if="user.credit_card_last4" translate>
                    {{ user.credit_card_type }} ending {{ user.credit_card_last4 }}. Expires {{ user.credit_card_expiry }}
                  </span>
                </p>
              </div>
            </md-list-item>
            <md-list-item class="md-2-line" flex="100" flex-gt-sm="50">
              <div class="md-list-item-text">
                <h3 translate>Plan</h3>
                <p>{{ ::user.plan.plan_name }}&nbsp;<translate>Plan.</translate> <span ng-show="user.plan.plan_price > 0">{{ ::user.plan.plan_price | number:2 | currency:user.plan.currency_symbol }} {{ ::user.plan.billing_period }}</span></p>
                <p>Tax Rate: {{ ::user.tax_rate | number :1 }}%</span></p>
              </div>
            </md-list-item>
            <md-list-item class="md-2-line" flex="100" flex-gt-sm="50">
              <div class="md-list-item-text">
                <h3 translate>Subscription Created</h3>
                <p>
                  {{ user.period_started | humanTime }}
                </p>
              </div>
            </md-list-item>
            <md-list-item class="md-2-line" flex="100" flex-gt-sm="50" ng-if="user.enterprise">
              <div class="md-list-item-text">
                <h3 translate>
                  <md-icon md-font-icon="arrow_back">star</md-icon>
                  Enterprise Customer
                </h3>
                <p>
                  Enterprise plans enabled
                </p>
              </div>
            </md-list-item>
            <md-list-item class="md-2-line" flex="100" flex-gt-sm="50">
              <div class="md-list-item-text">
                <h3 translate>
                  Billing Currency
                </h3>
                <p>
                  <b>{{ user.currency }} ({{ user.currency === 'EUR' ? '€' : user.currency === 'USD' ? '$' : '£' }})</b>
                  Please contact support to change this.
                </p>
              </div>
            </md-list-item>
          </div>

        </md-card-content>
      </md-card>
      <user-plans user="user"></user-plans>
      <user-billing-settings user="user"></user-billing-settings>
      <!-- <user-coupon key="{{user.key}}" coupons="user.active_coupons"></user-coupon> -->
      <!-- <user-cancel user="user" ng-if="user.subscription_active"></user-cancel> -->
    </div>
  </div>
</md-content>
